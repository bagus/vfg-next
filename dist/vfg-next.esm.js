import{isFunction as e,defaults as t,isFinite as i,isNil as n,isInteger as a,isNumber as l,isString as o,isArray as s,each as r,get as d,set as c,isObject as u,cloneDeep as m,forEach as h,debounce as f,uniqueId as p,uniq as v,clone as g,find as b,isEmpty as y,camelCase as k}from"lodash";import w from"fecha";import{defineComponent as O,resolveDirective as x,withDirectives as C,openBlock as I,createBlock as T,vModelCheckbox as S,Fragment as V,renderList as F,createVNode as M,createTextVNode as D,toDisplayString as N,createCommentVNode as U,vModelSelect as L,vModelText as q,vShow as E,resolveComponent as A,withCtx as j,resolveDynamicComponent as P}from"vue";var R={fieldIsRequired:"This field is required!",invalidFormat:"Invalid format!",numberTooSmall:"The number is too small! Minimum: {0}",numberTooBig:"The number is too big! Maximum: {0}",invalidNumber:"Invalid number",invalidInteger:"The value is not an integer",textTooSmall:"The length of text is too small! Current: {0}, Minimum: {1}",textTooBig:"The length of text is too big! Current: {0}, Maximum: {1}",thisNotText:"This is not a text!",thisNotArray:"This is not an array!",selectMinItems:"Select minimum {0} items!",selectMaxItems:"Select maximum {0} items!",invalidDate:"Invalid date!",dateIsEarly:"The date is too early! Current: {0}, Minimum: {1}",dateIsLate:"The date is too late! Current: {0}, Maximum: {1}",invalidEmail:"Invalid e-mail address!",invalidURL:"Invalid URL!",invalidCard:"Invalid card format!",invalidCardNumber:"Invalid card number!",invalidTextContainNumber:"Invalid text! Cannot contains numbers or special characters",invalidTextContainSpec:"Invalid text! Cannot contains special characters"};function _(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:R;return n(e)||""===e?t?[Y(i.fieldIsRequired)]:[]:null}function Y(e){if(null!=e&&arguments.length>1)for(var t=1;t<arguments.length;t++)e=e.replace("{"+(t-1)+"}",arguments[t]);return e}var H={resources:R,required:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:R;return _(e,t.required,n)},number:function(e,t,a){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:R,o=_(e,t.required,l);if(null!=o)return o;var s=[];return i(e)?(!n(t.min)&&e<t.min&&s.push(Y(l.numberTooSmall,t.min)),!n(t.max)&&e>t.max&&s.push(Y(l.numberTooBig,t.max))):s.push(Y(l.invalidNumber)),s},integer:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:R,l=_(e,t.required,n);if(null!=l)return l;var o=H.number(e,t,i,n);return a(e)||o.push(Y(n.invalidInteger)),o},double:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:R,a=_(e,t.required,n);return null!=a?a:!l(e)||isNaN(e)?[Y(n.invalidNumber)]:void 0},string:function(e,t,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:R,l=_(e,t.required,a);if(null!=l)return l;var s=[];return o(e)?(!n(t.min)&&e.length<t.min&&s.push(Y(a.textTooSmall,e.length,t.min)),!n(t.max)&&e.length>t.max&&s.push(Y(a.textTooBig,e.length,t.max))):s.push(Y(a.thisNotText)),s},array:function(e,t,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:R;if(t.required){if(!s(e))return[Y(a.thisNotArray)];if(0===e.length)return[Y(a.fieldIsRequired)]}if(!n(e)){if(!n(t.min)&&e.length<t.min)return[Y(a.selectMinItems,t.min)];if(!n(t.max)&&e.length>t.max)return[Y(a.selectMaxItems,t.max)]}},date:function(e,t,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:R,l=_(e,t.required,a);if(null!=l)return l;var o=new Date(e);if(isNaN(o.getDate()))return[Y(a.invalidDate)];var s=[];if(!n(t.min)){var r=new Date(t.min);o.valueOf()<r.valueOf()&&s.push(Y(a.dateIsEarly,w.format(o),w.format(r)))}if(!n(t.max)){var d=new Date(t.max);o.valueOf()>d.valueOf()&&s.push(Y(a.dateIsLate,w.format(o),w.format(d)))}return s},regexp:function(e,t,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:R,l=_(e,t.required,a);if(null!=l)return l;if(!n(t.pattern)){var o=new RegExp(t.pattern);if(!o.test(e))return[Y(a.invalidFormat)]}},email:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:R,a=_(e,t.required,n);if(null!=a)return a;var l=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return l.test(e)?void 0:[Y(n.invalidEmail)]},url:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:R,a=_(e,t.required,n);if(null!=a)return a;var l=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,4}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g;return l.test(e)?void 0:[Y(n.invalidURL)]},creditCard:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:R,a=_(e,t.required,n);if(null!=a)return a;var l=/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/,o=e.replace(/[^0-9]+/g,"");if(!l.test(o))return[Y(n.invalidCard)];for(var s,r,d,c=0,u=o.length-1;u>=0;u--)s=o.substring(u,u+1),r=parseInt(s,10),c+=d&&(r*=2)>=10?r%10+1:r,d=!d;return c%10==0&&o?void 0:[Y(n.invalidCardNumber)]},alpha:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:R,a=_(e,t.required,n);if(null!=a)return a;var l=/^[a-zA-Z]*$/;return l.test(e)?void 0:[Y(n.invalidTextContainNumber)]},alphaNumeric:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:R,a=_(e,t.required,n);if(null!=a)return a;var l=/^[a-zA-Z0-9]*$/;return l.test(e)?void 0:[Y(n.invalidTextContainSpec)]}},z={};Object.keys(H).forEach((function(i){z[i]=H[i];var n=H[i];e(n)&&(n.locale=function(e){return function(i,a,l){return n(i,a,l,t(e,R))}})}));var B=function(e){var t=[];return r(e.fields,(function(e){!0===e.multi&&t.push(e)})),t},G=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return void 0!==e.id?t+e.id:t+(e.inputName||e.label||e.model||"").toString().trim().toLowerCase().replace(/ |_/g,"-").replace(/-{2,}/g,"-").replace(/^-+|-+$/g,"").replace(/([^a-zA-Z0-9-]+)/g,"")},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.toString().trim().replace(/ /g,"-").replace(/-{2,}/g,"-").replace(/^-+|-+$/g,"").replace(/([^a-zA-Z0-9-_/./:]+)/g,"")},X={},K={createDefaultObject:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r(t.fields,(function(n){void 0===d(i,n.model)&&void 0!==n.default&&(e(n.default)?c(i,n.model,n.default(n,t,i)):u(n.default)||s(n.default)?c(i,n.model,m(n.default)):c(i,n.model,n.default))})),i},getMultipleFields:B,mergeMultiObjectFields:function(e,t){var i={},n=B(e);return r(n,(function(e){var n,a=!0,l=e.model;r(t,(function(e){var t=d(e,l);a?(n=t,a=!1):n!==t&&(n=void 0)})),c(i,l,n)})),i},slugifyFormID:G,slugify:Z,fieldComponents:X};function J(e){return o(e)?null!=z[e]?z[e]:null:e}function Q(e,t){var i=d(t.instance,"schema.attributes",{}),n=t.value||"input";o(n)&&(i=d(i,n)||i),h(i,(function(t,i){e.setAttribute(i,t)}))}var W={directives:{attributes:{beforeMount:Q,updated:Q}},props:{vfg:{type:Object,default:void 0},model:{type:Object,default:void 0},schema:{type:Object,default:void 0},formOptions:{type:Object,default:void 0},disabled:{type:Boolean,default:!1}},emits:["validated","model-updated"],setup:function(){},data:function(){return{errors:[],debouncedValidateFunc:null,debouncedFormatFunc:null}},computed:{value:{cache:!1,get:function(){var t;return t=e(d(this.schema,"get"))?this.schema.get(this.model):d(this.model,this.schema.model),this.formatValueToField(t)},set:function(t){var i=this.value;t=this.formatValueToModel(t),e(t)?t(t,i):this.updateModelValue(t,i)}}},methods:{validate:function(t){var i=this;this.clearValidationErrors();var n=d(this.formOptions,"validateAsync",!1),a=[];if(!this.schema.validator&&this.schema.required&&(this.schema.validator=z.required),this.schema.validator&&!0!==this.schema.readonly&&!0!==this.disabled){var l=[];s(this.schema.validator)?h(this.schema.validator,(function(e){l.push(J(e).bind(i))})):l.push(J(this.schema.validator).bind(this)),h(l,(function(t){if(n)a.push(t(i.value,i.schema,i.model));else{var l=t(i.value,i.schema,i.model);l&&e(l.then)?l.then((function(e){e&&(i.errors=i.errors.concat(e));var t=0===i.errors.length;i.$emit("validated",t,i.errors,i)})):l&&(a=a.concat(l))}}))}var r=function(n){var a=[];h(v(n),(function(e){s(e)&&e.length>0?a=a.concat(e):o(e)&&a.push(e)})),e(i.schema.onValidated)&&i.schema.onValidated.call(i,i.model,a,i.schema);var l=0===a.length;return t||i.$emit("validated",l,a,i),i.errors=a,a};return n?Promise.all(a).then(r):r(a)},debouncedValidate:function(){e(this.debouncedValidateFunc)||(this.debouncedValidateFunc=f(this.validate.bind(this),d(this.schema,"validateDebounceTime",d(this.formOptions,"validateDebounceTime",500)))),this.debouncedValidateFunc()},updateModelValue:function(t,i){var n=!1;e(this.schema.set)?(this.schema.set(this.model,t),n=!0):this.schema.model&&(this.setModelValueByPath(this.schema.model,t),n=!0),n&&(this.$emit("model-updated",t,this.schema.model),e(this.schema.onChanged)&&this.schema.onChanged.call(this,this.model,t,i,this.schema),!0===d(this.formOptions,"validateAfterChanged",!1)&&(d(this.schema,"validateDebounceTime",d(this.formOptions,"validateDebounceTime",0))>0?this.debouncedValidate():this.validate()))},clearValidationErrors:function(){this.errors.splice(0)},setModelValueByPath:function(e,t){var i=e.replace(/\[(\w+)\]/g,".$1");i=i.replace(/^\./,"");for(var n=this.model,a=i.split("."),l=0,o=a.length;l<o;){var s=a[l];if(!(l<o-1))return void(n[s]=t);n=(n[s],n[s]),++l}},getFieldID:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=d(this.formOptions,"fieldIdPrefix","");return G(e,i)+(t?"-"+p():"")},getFieldClasses:function(){return d(this.schema,"fieldClasses",[])},formatValueToField:function(e){return e},formatValueToModel:function(e){return e}}},ee=O({mixins:[W]});ee.render=function(e,t,i,n,a,l){var o=x("attributes");return C((I(),T("input",{id:e.getFieldID(e.schema),"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.value=t}),type:"checkbox",autocomplete:e.schema.autocomplete,disabled:e.disabled,name:e.schema.inputName,class:e.schema.fieldClasses,required:e.schema.required},null,10,["id","autocomplete","disabled","name","required"])),[[S,e.value],[o,"input"]])};var te=O({mixins:[W],data:function(){return{comboExpanded:!1}},computed:{items:function(){var e=this.schema.values;return"function"==typeof e?e.apply(this,[this.model,this.schema]):e},selectedCount:function(){return this.value?this.value.length:0}},methods:{getInputName:function(e){return this.schema&&this.schema.inputName&&this.schema.inputName.length>0?Z(this.schema.inputName+"_"+this.getItemValue(e)):Z(this.getItemValue(e))},getItemValue:function(e){if(u(e)){if(void 0!==this.schema.checklistOptions&&void 0!==this.schema.checklistOptions.value)return e[this.schema.checklistOptions.value];if(void 0!==e.value)return e.value;throw"`value` is not defined. If you want to use another key name, add a `value` property under `checklistOptions` in the schema. https://icebob.gitbooks.io/vueformgenerator/content/fields/checklist.html#checklist-field-with-object-values"}return e},getItemName:function(e){if(u(e)){if(void 0!==this.schema.checklistOptions&&void 0!==this.schema.checklistOptions.name)return e[this.schema.checklistOptions.name];if(void 0!==e.name)return e.name;throw"`name` is not defined. If you want to use another key name, add a `name` property under `checklistOptions` in the schema. https://icebob.gitbooks.io/vueformgenerator/content/fields/checklist.html#checklist-field-with-object-values"}return e},isItemChecked:function(e){return this.value&&-1!==this.value.indexOf(this.getItemValue(e))},onChanged:function(e,t){if(!n(this.value)&&Array.isArray(this.value)||(this.value=[]),e.target.checked){var i=g(this.value);i.push(this.getItemValue(t)),this.value=i}else{var a=g(this.value);a.splice(this.value.indexOf(this.getItemValue(t)),1),this.value=a}},onExpandCombo:function(){this.comboExpanded=!this.comboExpanded}}}),ie={class:"wrapper"},ne={class:"info"},ae=M("div",{class:"arrow"},null,-1),le={class:"dropList"};te.render=function(e,t,i,n,a,l){var o=x("attributes");return C((I(),T("div",ie,[e.schema.listBox?(I(),T("div",{key:0,class:"listbox form-control",disabled:e.disabled},[(I(!0),T(V,null,F(e.items,(function(t){return I(),T("div",{key:t,class:["list-row",{"is-checked":e.isItemChecked(t)}]},[M("label",null,[C(M("input",{id:e.getFieldID(e.schema,!0),type:"checkbox",checked:e.isItemChecked(t),disabled:e.disabled,name:e.getInputName(t),onChange:function(i){return e.onChanged(i,t)}},null,40,["id","checked","disabled","name","onChange"]),[[o,"input"]]),D(N(e.getItemName(t)),1)])],2)})),128))],8,["disabled"])):U("v-if",!0),e.schema.listBox?U("v-if",!0):(I(),T("div",{key:1,class:"combobox form-control",disabled:e.disabled},[M("div",{class:["mainRow",{expanded:e.comboExpanded}],onClick:t[1]||(t[1]=function(){return e.onExpandCombo&&e.onExpandCombo.apply(e,arguments)})},[M("div",ne,N(e.selectedCount)+" selected",1),ae],2),M("div",le,[e.comboExpanded?(I(!0),T(V,{key:0},F(e.items,(function(t){return I(),T("div",{key:t,class:["list-row",{"is-checked":e.isItemChecked(t)}]},[M("label",null,[C(M("input",{id:e.getFieldID(e.schema,!0),type:"checkbox",checked:e.isItemChecked(t),disabled:e.disabled,name:e.getInputName(t),onChange:function(i){return e.onChanged(i,t)}},null,40,["id","checked","disabled","name","onChange"]),[[o,"input"]]),D(N(e.getItemName(t)),1)])],2)})),128)):U("v-if",!0)])],8,["disabled"]))],512)),[[o,"wrapper"]])};var oe={date:"YYYY-MM-DD",datetime:"YYYY-MM-DD HH:mm:ss","datetime-local":"YYYY-MM-DDTHH:mm:ss"},se=O({mixins:[W],computed:{inputType:function(){return this.schema&&"datetime"===this.schema.inputType?"datetime-local":this.schema.inputType}},mounted:function(){var e=this;switch(this.schema.inputType.toLowerCase()){case"number":case"range":this.debouncedFormatFunc=f((function(t,i){e.formatNumberToModel(t,i)}),parseInt(d(this.schema,"debounceFormatTimeout",1e3)),{trailing:!0,leading:!1});break;case"date":case"datetime":case"datetime-local":this.debouncedFormatFunc=f((function(t,i){e.formatDatetimeToModel(t,i)}),parseInt(d(this.schema,"debounceFormatTimeout",1e3)),{trailing:!0,leading:!1})}},created:function(){this.schema.inputType.toLowerCase()},methods:{formatValueToModel:function(e){var t=this;if(null!=e)switch(this.schema.inputType.toLowerCase()){case"date":case"datetime":case"datetime-local":case"number":case"range":return function(i,n){t.debouncedFormatFunc(e,n)}}return e},formatValueToField:function(e){switch(this.schema.inputType.toLowerCase()){case"date":case"datetime":case"datetime-local":return this.formatDatetimeValueToField(e)}return e},formatDatetimeToModel:function(e,t){var i=oe[this.schema.inputType.toLowerCase()],n=w.parse(e,i);!1!==n&&(e=this.schema.format?w.format(n,this.schema.format):n.valueOf()),this.updateModelValue(e,t)},formatDatetimeValueToField:function(e){if(null==e)return null;var t=oe[this.schema.inputType.toLowerCase()],i=e;return l(e)||(i=w.parse(e,t)),!1!==i?w.format(i,t):e},formatNumberToModel:function(e,t){l(e)||(e=NaN),this.updateModelValue(e,t)},onInput:function(e){var t=e.target.value;switch(this.schema.inputType.toLowerCase()){case"number":case"range":l(parseFloat(e.target.value))&&(t=parseFloat(e.target.value))}this.value=t},onBlur:function(){e(this.debouncedFormatFunc)&&this.debouncedFormatFunc.flush()}}}),re={class:"wrapper"},de={key:0,class:"helper"};se.render=function(e,t,i,n,a,l){var o=x("attributes");return C((I(),T("div",re,[C(M("input",{id:e.getFieldID(e.schema),class:["form-control",e.schema.fieldClasses],type:e.inputType,value:e.value,disabled:e.disabled,accept:e.schema.accept,alt:e.schema.alt,autocomplete:e.schema.autocomplete,checked:e.schema.checked,dirname:e.schema.dirname,formaction:e.schema.formaction,formenctype:e.schema.formenctype,formmethod:e.schema.formmethod,formnovalidate:e.schema.formnovalidate,formtarget:e.schema.formtarget,height:e.schema.height,list:e.schema.list,max:e.schema.max,maxlength:e.schema.maxlength,min:e.schema.min,minlength:e.schema.minlength,multiple:e.schema.multiple,name:e.schema.inputName,pattern:e.schema.pattern,placeholder:e.schema.placeholder,readonly:e.schema.readonly,required:e.schema.required,size:e.schema.size||20,src:e.schema.src,step:e.schema.step,width:e.schema.width,files:e.schema.files,onInput:t[1]||(t[1]=function(){return e.onInput&&e.onInput.apply(e,arguments)}),onBlur:t[2]||(t[2]=function(){return e.onBlur&&e.onBlur.apply(e,arguments)}),onChange:t[3]||(t[3]=function(t){return e.schema.onChange||null})},null,42,["id","type","value","disabled","accept","alt","autocomplete","checked","dirname","formaction","formenctype","formmethod","formnovalidate","formtarget","height","list","max","maxlength","min","minlength","multiple","name","pattern","placeholder","readonly","required","size","src","step","width","files"]),[[o,"input"]]),"color"===e.schema.inputType.toLowerCase()||"range"===e.schema.inputType.toLowerCase()?(I(),T("span",de,N(e.value),1)):U("v-if",!0)],512)),[[o,"wrapper"]])};var ce=O({mixins:[W]});ce.render=function(e,t,i,n,a,l){var o=x("attributes");return C((I(),T("span",{id:e.getFieldID(e.schema),class:e.schema.fieldClasses},N(e.value),11,["id"])),[[o,"label"]])};var ue=O({mixins:[W],computed:{items:function(){var e=this.schema.values;return"function"==typeof e?e.apply(this,[this.model,this.schema]):e},id:function(){return this.schema.model}},methods:{getItemValue:function(e){if(u(e)){if(void 0!==this.schema.radiosOptions&&void 0!==this.schema.radiosOptions.value)return e[this.schema.radiosOptions.value];if(void 0!==e.value)return e.value;throw"`value` is not defined. If you want to use another key name, add a `value` property under `radiosOptions` in the schema. https://icebob.gitbooks.io/vueformgenerator/content/fields/radios.html#radios-field-with-object-values"}return e},getItemName:function(e){if(u(e)){if(void 0!==this.schema.radiosOptions&&void 0!==this.schema.radiosOptions.name)return e[this.schema.radiosOptions.name];if(void 0!==e.name)return e.name;throw"`name` is not defined. If you want to use another key name, add a `name` property under `radiosOptions` in the schema. https://icebob.gitbooks.io/vueformgenerator/content/fields/radios.html#radios-field-with-object-values"}return e},getItemCssClasses:function(e){return{"is-checked":this.isItemChecked(e),"is-disabled":this.isItemDisabled(e)}},onSelection:function(e){this.value=this.getItemValue(e)},isItemChecked:function(e){return this.getItemValue(e)===this.value},isItemDisabled:function(t){if(this.disabled)return!0;var i=d(t,"disabled",!1);return e(i)?i(this.model):i}}});ue.render=function(e,t,i,n,a,l){var o=x("attributes");return C((I(),T("div",{class:"radio-list",disabled:e.disabled},[(I(!0),T(V,null,F(e.items,(function(t){return C((I(),T("label",{key:t,class:e.getItemCssClasses(t)},[C(M("input",{id:e.getFieldID(e.schema,!0),type:"radio",disabled:e.isItemDisabled(t),name:e.id,value:e.getItemValue(t),checked:e.isItemChecked(t),class:e.schema.fieldClasses,required:e.schema.required,onClick:function(i){return e.onSelection(t)}},null,10,["id","disabled","name","value","checked","required","onClick"]),[[o,"input"]]),D(" "+N(e.getItemName(t)),1)],2)),[[o,"label"]])})),128))],8,["disabled"])),[[o,"wrapper"]])};var me=O({mixins:[W],computed:{selectOptions:function(){return this.schema.selectOptions||{}},items:function(){var e=this.schema.values;return"function"==typeof e?this.groupValues(e.apply(this,[this.model,this.schema])):this.groupValues(e)}},methods:{formatValueToField:function(e){return n(e)?null:e},groupValues:function(e){var t=[],i={};return e.forEach((function(e){i=null,e.group&&u(e)?(i=b(t,(function(t){return t.group===e.group})))?i.ops.push({id:e.id,name:e.name}):((i={group:"",ops:[]}).group=e.group,i.ops.push({id:e.id,name:e.name}),t.push(i)):t.push(e)})),t},getGroupName:function(e){if(e&&e.group)return e.group;throw"Group name is missing! https://icebob.gitbooks.io/vueformgenerator/content/fields/select.html#select-field-with-object-items"},getItemValue:function(e){if(u(e)){if(void 0!==this.schema.selectOptions&&void 0!==this.schema.selectOptions.value)return e[this.schema.selectOptions.value];if(void 0!==e.id)return e.id;throw"`id` is not defined. If you want to use another key name, add a `value` property under `selectOptions` in the schema. https://icebob.gitbooks.io/vueformgenerator/content/fields/select.html#select-field-with-object-items"}return e},getItemName:function(e){if(u(e)){if(void 0!==this.schema.selectOptions&&void 0!==this.schema.selectOptions.name)return e[this.schema.selectOptions.name];if(void 0!==e.name)return e.name;throw"`name` is not defined. If you want to use another key name, add a `name` property under `selectOptions` in the schema. https://icebob.gitbooks.io/vueformgenerator/content/fields/select.html#select-field-with-object-items"}return e}}});me.render=function(e,t,i,n,a,l){var o=x("attributes");return C((I(),T("select",{id:e.getFieldID(e.schema),"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.value=t}),class:["form-control",e.schema.fieldClasses],disabled:e.disabled,name:e.schema.inputName},[e.selectOptions.hideNoneSelectedText?U("v-if",!0):(I(),T("option",{key:0,disabled:e.schema.required,value:null},N(e.selectOptions.noneSelectedText||"<Nothing selected>"),9,["disabled"])),(I(!0),T(V,null,F(e.items,(function(t,i){return I(),T(V,null,[t.group?(I(),T("optgroup",{key:i+"_optgroup",label:e.getGroupName(t)},[t.ops?(I(!0),T(V,{key:0},F(t.ops,(function(t){return I(),T("option",{key:t,value:e.getItemValue(t)},N(e.getItemName(t)),9,["value"])})),128)):U("v-if",!0)],8,["label"])):t.group?U("v-if",!0):(I(),T("option",{key:i+"_option",value:e.getItemValue(t)},N(e.getItemName(t)),9,["value"]))],64)})),256))],10,["id","disabled","name"])),[[L,e.value],[o,"input"]])};var he=O({mixins:[W],methods:{onClick:function(t){var i=this;if(!0===this.schema.validateBeforeSubmit){t.preventDefault();var n=d(this.formOptions,"validateAsync",!1),a=this.vfg.validate(),l=function(a){n&&!y(a)||!n&&!a?e(i.schema.onValidationError)&&i.schema.onValidationError(i.model,i.schema,a,t):e(i.schema.onSubmit)&&i.schema.onSubmit(i.model,i.schema,t)};a&&e(a.then)?a.then(l):l(a)}else e(this.schema.onSubmit)&&this.schema.onSubmit(this.model,this.schema,t)}}});he.render=function(e,t,i,n,a,l){var o=x("attributes");return C((I(),T("input",{id:e.getFieldID(e.schema),type:"submit",value:e.schema.buttonText,name:e.schema.inputName,disabled:e.disabled,class:e.schema.fieldClasses,onClick:t[1]||(t[1]=function(){return e.onClick&&e.onClick.apply(e,arguments)})},null,10,["id","value","name","disabled"])),[[o,"input"]])};var fe=O({mixins:[W]});fe.render=function(e,t,i,n,a,l){var o=x("attributes");return C((I(),T("textarea",{id:e.getFieldID(e.schema),"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.value=t}),class:["form-control",e.schema.fieldClasses],disabled:e.disabled,maxlength:e.schema.max,minlength:e.schema.min,placeholder:e.schema.placeholder,readonly:e.schema.readonly,required:e.schema.required,rows:e.schema.rows||2,name:e.schema.inputName},null,10,["id","disabled","maxlength","minlength","placeholder","readonly","required","rows","name"])),[[q,e.value],[o,"input"]])};var pe=O({mixins:[W],methods:{onChange:function(t){e(this.schema.onChanged)&&this.schema.onChanged.call(this,this.model,this.schema,t,this)}}}),ve={class:"wrapper"};pe.render=function(e,t,i,n,a,l){var o=x("attributes");return C((I(),T("div",ve,[C(M("input",{id:e.getFieldID(e.schema),class:"form-control",type:"file",name:e.schema.inputName,accept:e.schema.accept,multiple:e.schema.multiple,placeholder:e.schema.placeholder,readonly:e.schema.readonly,required:e.schema.required,disabled:e.disabled,onChange:t[1]||(t[1]=function(){return e.onChange&&e.onChange.apply(e,arguments)})},null,40,["id","name","accept","multiple","placeholder","readonly","required","disabled"]),[[o,"input"]])],512)),[[o,"wrapper"]])};var ge=O({mixins:[W],data:function(){return{cleave:null}},mounted:function(){this.$nextTick((function(){var e=this;window.Cleave&&(this.cleave=new window.Cleave(this.$el,t(this.schema.cleaveOptions||{},{creditCard:!1,phone:!1,phoneRegionCode:"AU",date:!1,datePattern:["d","m","Y"],numeral:!1,numeralThousandsGroupStyle:"thousand",numeralDecimalScale:2,numeralDecimalMark:".",blocks:[],delimiter:" ",prefix:null,numericOnly:!1,uppercase:!1,lowercase:!1,maxLength:0})),this.cleave.properties&&"result"in this.cleave.properties?this.$watch("cleave.properties.result",(function(){e.value=e.cleave.properties.result})):this.$el.addEventListener("input",this.inputChange))}))},beforeUnmount:function(){this.cleave&&(this.cleave.destroy(),this.$el.removeEventListener("input",this.inputChange))},methods:{inputChange:function(){this.value=this.$el.value}}});function be(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function ye(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function ke(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(i),!0).forEach((function(t){be(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ye(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function we(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var i=[],n=!0,a=!1,l=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(e){a=!0,l=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw l}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Oe(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Oe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}ge.render=function(e,t,i,n,a,l){return I(),T("input",{id:e.getFieldID(e.schema),class:"form-control",type:"text",value:e.value,autocomplete:e.schema.autocomplete,disabled:e.disabled,placeholder:e.schema.placeholder,readonly:e.schema.readonly,name:e.schema.inputName},null,8,["id","value","autocomplete","disabled","placeholder","readonly","name"])};var xe={formatValueToField:function(e){if(null!=e){var t=this.schema.format?w.parse(e,this.schema.format):new Date(e);return w.format(t,this.getDateFormat())}return e},formatValueToModel:function(e){if(null!=e){var t=w.parse(e,this.getDateFormat());e=this.schema.format?w.format(t,this.schema.format):t.valueOf()}return e}},Ce=O({mixins:[W],mounted:function(){this.$nextTick((function(){var e=this;if(window.$&&window.$.fn.datetimepicker){var i=this.$el.querySelector(".form-control");$(this.$el).datetimepicker(t(this.schema.dateTimePickerOptions||{},{format:"YYYY-MM-DD HH:mm:ss"})).on("dp.change",(function(){e.value=i.value}))}}))},beforeUnmount:function(){window.$&&window.$.fn.datetimepicker&&$(this.$el).data("DateTimePicker").destroy()},methods:ke({getDateFormat:function(){return this.schema.dateTimePickerOptions&&this.schema.dateTimePickerOptions.format?this.schema.dateTimePickerOptions.format:"YYYY-MM-DD HH:mm:ss"}},xe)}),Ie={class:"input-group date"},Te=M("span",{class:"input-group-addon"},[M("span",{class:"glyphicon glyphicon-calendar"})],-1);Ce.render=function(e,t,i,n,a,l){return I(),T("div",Ie,[C(M("input",{id:e.getFieldID(e.schema),"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.value=t}),class:"form-control",type:"text",autocomplete:e.schema.autocomplete,disabled:e.disabled,placeholder:e.schema.placeholder,readonly:e.schema.readonly,name:e.schema.inputName},null,8,["id","autocomplete","disabled","placeholder","readonly","name"]),[[q,e.value]]),Te])};var Se=O({mixins:[W],data:function(){return{autocomplete:"",inputs:{street_number:"long_name",route:"long_name",country:"long_name",administrative_area_level_1:"long_name",administrative_area_level_2:"long_name",locality:"long_name",postal_code:"short_name"}}},mounted:function(){var e=this;this.$nextTick((function(){window.google&&window.google.maps&&window.google.maps.places&&window.google.maps.places.Autocomplete&&(e.autocomplete=new google.maps.places.Autocomplete(e.$el,{types:["geocode"]}),e.autocomplete.addListener("place_changed",e.pipeAddress))}))},methods:{pipeAddress:function(){var t=this.autocomplete.getPlace();if(t){this.value=t.formatted_address;var i={};if(void 0!==t.address_components)for(var n=0;n<t.address_components.length;n++){var a=t.address_components[n].types[0];this.inputs[a]&&(i[a]=t.address_components[n][this.inputs[a]])}e(this.schema.onPlaceChanged)&&this.schema.onPlaceChanged(this.value,i,t,this.model,this.schema)}},geolocate:function(){var e=this;navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(t){var i={lat:t.coords.latitude,lng:t.coords.longitude},n=new window.google.maps.Circle({center:i,radius:t.coords.accuracy});e.autocomplete.setBounds(n.getBounds())}))}}});Se.render=function(e,t,i,n,a,l){return C((I(),T("input",{id:e.getFieldID(e.schema),"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.value=t}),class:"form-control",type:"text",autocomplete:e.schema.autocomplete,disabled:e.disabled,placeholder:e.schema.placeholder,readonly:e.schema.readonly,name:e.schema.inputName,debounce:"500",onFocus:t[2]||(t[2]=function(t){return e.geolocate()})},null,40,["id","autocomplete","disabled","placeholder","readonly","name"])),[[q,e.value]])};var Ve=O({mixins:[W],computed:{previewStyle:function(){return!1!==this.schema.preview?{display:"block","background-image":null!=this.value?"url("+this.value+")":"none"}:{display:"none"}},wrappedValue:{get:function(){return this.value&&0===this.value.indexOf("data")?"<inline base64 image>":this.value},set:function(e){e&&0===e.indexOf("http")&&(this.value=e)}}},watch:{model:function(){var e=this.$el.querySelector("input.file");e&&(e.value="")}},methods:{remove:function(){this.value=""},fileChanged:function(e){var t=this,i=new FileReader;i.onload=function(e){t.value=e.target.result},e.target.files&&e.target.files.length>0&&i.readAsDataURL(e.target.files[0])}}}),$e={class:"wrapper"};Ve.render=function(e,t,i,n,a,l){return I(),T("div",$e,[C(M("input",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.wrappedValue=t}),class:"form-control link",type:"text",autocomplete:e.schema.autocomplete,disabled:e.disabled,placeholder:e.schema.placeholder,readonly:e.schema.readonly},null,8,["autocomplete","disabled","placeholder","readonly"]),[[E,!0!==e.schema.hideInput],[q,e.wrappedValue]]),!1!==e.schema.browse?(I(),T("input",{key:0,class:"form-control file",type:"file",disabled:e.disabled,name:e.schema.inputName,onChange:t[2]||(t[2]=function(){return e.fileChanged&&e.fileChanged.apply(e,arguments)})},null,40,["disabled","name"])):U("v-if",!0),M("div",{class:"preview",style:e.previewStyle},[M("div",{class:"remove",title:"Remove image",onClick:t[3]||(t[3]=function(){return e.remove&&e.remove.apply(e,arguments)})})],4)])};var Fe=O({mixins:[W],mounted:function(){this.$nextTick((function(){window.$&&window.$.fn.mask&&$(this.$el).unmask().mask(this.schema.mask,this.schema.maskOptions)}))},beforeUnmount:function(){window.$&&window.$.fn.mask&&$(this.$el).unmask()}});Fe.render=function(e,t,i,n,a,l){return C((I(),T("input",{id:e.getFieldID(e.schema),"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.value=t}),class:"form-control",type:"text",autocomplete:e.schema.autocomplete,disabled:e.disabled,placeholder:e.schema.placeholder,readonly:e.schema.readonly,name:e.schema.inputName},null,8,["id","autocomplete","disabled","placeholder","readonly","name"])),[[q,e.value]])};var Me=O({mixins:[W],data:function(){return{slider:null}},computed:{containPips:function(){return this.schema.noUiSliderOptions&&void 0!==this.schema.noUiSliderOptions.pips},containTooltip:function(){return this.schema.noUiSliderOptions&&this.schema.noUiSliderOptions.tooltips}},watch:{model:function(){window.noUiSlider&&this.slider&&this.slider.noUiSlider&&this.slider.noUiSlider.set(this.value)}},mounted:function(){var e=this;this.$nextTick((function(){window.noUiSlider&&(e.slider=e.$el,window.noUiSlider.create(e.slider,t(e.schema.noUiSliderOptions||{},{start:e.getStartValue(),range:{min:e.schema.min,max:e.schema.max}})),e.slider.noUiSlider.on("change",e.onChange.bind(e)))}))},beforeUnmount:function(){this.slider&&this.slider.noUiSlider.off("change")},methods:{onChange:function(e){s(e)?this.value=[parseFloat(e[0]),parseFloat(e[1])]:this.value=parseFloat(e)},formatValueToField:function(e){null!==this.slider&&void 0!==this.slider.noUiSlider&&this.slider.noUiSlider.set(e)},formatValueToModel:function(e){if(void 0!==this.slider.noUiSlider)return e instanceof Array?[Number(e[0]),Number(e[1])]:Number(e)},getStartValue:function(){return null!=this.value?this.value:void 0!==this.schema.noUiSliderOptions&&this.schema.noUiSliderOptions.double?[this.schema.min,this.schema.min]:this.schema.min}}});Me.render=function(e,t,i,n,a,l){return I(),T("div",{class:["slider",{"contain-pips":e.containPips,"contain-tooltip":e.containTooltip}],disabled:e.disabled},null,10,["disabled"])};var De=O({mixins:[W],data:function(){return{picker:null,options:null}},mounted:function(){this.initialize(d(this.schema,"pikadayOptions",{}))},beforeUnmount:function(){this.picker&&this.picker.destroy()},methods:ke(ke({getDateFormat:function(){return d(this.schema,"pikadayOptions.format","YYYY-MM-DD")}},xe),{},{initialize:function(e){var i=this;this.picker&&this.picker.destroy&&this.picker.destroy(),this.$nextTick((function(){window.Pikaday&&(i.options=t({},e,{field:i.$el,onSelect:function(){i.value=i.picker.toString()}}),i.picker=new window.Pikaday(i.options))}))}})});De.render=function(e,t,i,n,a,l){return C((I(),T("input",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.value=t}),class:"form-control",type:"text",autocomplete:e.schema.autocomplete,disabled:e.disabled,placeholder:e.schema.placeholder,readonly:e.schema.readonly,name:e.schema.inputName},null,8,["autocomplete","disabled","placeholder","readonly","name"])),[[q,e.value]])};var Ne=O({mixins:[W],data:function(){return{slider:null}},watch:{model:function(){if(window.$&&window.$.fn.ionRangeSlider){var e,t;if(s(this.value)){var i=we(this.value,2);e=i[0],t=i[1]}else e=this.value;this.slider&&this.slider.update({from:e,to:t})}}},mounted:function(){this.$nextTick((function(){if(window.$&&window.$.fn.ionRangeSlider){var e,i;if(s(this.value)){var n=we(this.value,2);e=n[0],i=n[1]}else e=this.value;var a=this;$(this.$el).ionRangeSlider(t(this.schema.rangeSliderOptions||{},{type:"single",grid:!0,hide_min_max:!0,from:e,to:i,onChange:function(e){"double"===a.slider.options.type?a.value=[e.from,e.to]:a.value=e.from}})),this.slider=$(this.$el).data("ionRangeSlider")}}))},beforeUnmount:function(){this.slider&&this.slider.destroy()}});Ne.render=function(e,t,i,n,a,l){return I(),T("input",{type:"text",autocomplete:e.schema.autocomplete,"data-disable":e.disabled,"data-max":e.schema.max,"data-min":e.schema.min,"data-step":e.schema.step,placeholder:e.schema.placeholder,readonly:e.schema.readonly,name:e.schema.inputName},null,8,["autocomplete","data-disable","data-max","data-min","data-step","placeholder","readonly","name"])};var Ue=O({mixins:[W],computed:{items:function(){var e=this.schema.values;return"function"==typeof e?e.apply(this,[this.model,this.schema]):e}},watch:{model:function(){$.fn.selectpicker&&$(this.$el).selectpicker("refresh")}},mounted:function(){this.$nextTick((function(){$.fn.selectpicker&&$(this.$el).selectpicker("destroy").selectpicker(this.schema.selectOptions)}))},beforeUnmount:function(){$.fn.selectpicker&&$(this.$el).selectpicker("destroy")},methods:{getItemValue:function(e){if(u(e)){if(void 0!==this.schema.selectOptions&&void 0!==this.schema.selectOptions.value)return e[this.schema.selectOptions.value];if(void 0!==e.id)return e.id;throw"`id` is not defined. If you want to use another key name, add a `value` property under `selectOptions` in the schema. https://icebob.gitbooks.io/vueformgenerator/content/fields/select.html#select-field-with-object-items"}return e},getItemName:function(e){if(u(e)){if(void 0!==this.schema.selectOptions&&void 0!==this.schema.selectOptions.name)return e[this.schema.selectOptions.name];if(void 0!==e.name)return e.name;throw"`name` is not defined. If you want to use another key name, add a `name` property under `selectOptions` in the schema. https://icebob.gitbooks.io/vueformgenerator/content/fields/select.html#select-field-with-object-items"}return e}}});Ue.render=function(e,t,i,n,a,l){return C((I(),T("select",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.value=t}),class:"selectpicker",disabled:e.disabled,multiple:e.schema.multiSelect,title:e.schema.placeholder,"data-width":"100%",name:e.schema.inputName},[!0!==e.schema.multiSelect?(I(),T("option",{key:0,disabled:e.schema.required,value:null,selected:null==e.value},null,8,["disabled","selected"])):U("v-if",!0),(I(!0),T(V,null,F(e.items,(function(t){return I(),T("option",{key:t,value:e.getItemValue(t)},N(e.getItemName(t)),9,["value"])})),128))],8,["disabled","multiple","title","name"])),[[L,e.value]])};var Le=O({mixins:[W],data:function(){return{picker:null}},watch:{model:function(){window.$&&window.$.fn.spectrum&&this.picker.spectrum("set",this.value)},disabled:function(e){e?this.picker.spectrum("disable"):this.picker.spectrum("enable")}},mounted:function(){this.$nextTick((function(){var e=this;window.$&&window.$.fn.spectrum&&(this.picker=$(this.$el).spectrum("destroy").spectrum(t(this.schema.colorOptions||{},{showInput:!0,showAlpha:!0,disabled:this.schema.disabled,allowEmpty:!this.schema.required,preferredFormat:"hex",change:function(t){e.value=t?t.toString():null}})),this.picker.spectrum("set",this.value))}))},beforeUnmount:function(){this.picker&&this.picker.spectrum("destroy")}});Le.render=function(e,t,i,n,a,l){return I(),T("input",{id:e.getFieldID(e.schema),type:"text",autocomplete:e.schema.autocomplete,disabled:e.disabled,placeholder:e.schema.placeholder,readonly:e.schema.readonly,name:e.schema.inputName},null,8,["id","autocomplete","disabled","placeholder","readonly","name"])};var qe=O({mixins:[W],computed:{mapLink:function(){if(this.value){var e,i,n=t(this.schema.staticMapOptions||{},{lat:"lat",lng:"lng",zoom:8,sizeX:640,sizeY:640});e=this.value[n.lat],i=this.value[n.lng];for(var a="http://maps.googleapis.com/maps/api/staticmap?center=".concat(e,",").concat(i,"&zoom=").concat(n.zoom,"&size=").concat(n.sizeX,"x").concat(n.sizeY),l=0,o=["scale","format","maptype","language","region","markers","path","visible","style","key","signature"];l<o.length;l++){var s=o[l];void 0!==n[s]&&(a+="&".concat(s,"=").concat(n[s]))}if(e&&i)return a}return""}}});qe.render=function(e,t,i,n,a,l){return I(),T("img",{src:e.mapLink||"data:,"},null,8,["src"])};var Ee=O({mixins:[W],methods:{formatValueToField:function(e){return null!=e&&this.schema.valueOn?e===this.schema.valueOn:e},formatValueToModel:function(e){return null!=e&&this.schema.valueOn?e?this.schema.valueOn:this.schema.valueOff:e}}}),Ae=M("span",{class:"handle"},null,-1);Ee.render=function(e,t,i,n,a,l){return I(),T("label",null,[C(M("input",{id:e.getFieldID(e.schema),"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.value=t}),type:"checkbox",autocomplete:e.schema.autocomplete,disabled:e.disabled,name:e.schema.inputName},null,8,["id","autocomplete","disabled","name"]),[[S,e.value]]),M("span",{class:"label","data-on":e.schema.textOn||"On","data-off":e.schema.textOff||"Off",for:e.getFieldID(e.schema)},null,8,["data-on","data-off","for"]),Ae])};var je=O({mixins:[W],computed:{selectOptions:function(){return this.schema.selectOptions||{}},options:function(){var e=this.schema.values;return"function"==typeof e?e.apply(this,[this.model,this.schema]):e},customLabel:function(){return void 0!==this.schema.selectOptions&&void 0!==this.schema.selectOptions.customLabel&&"function"==typeof this.schema.selectOptions.customLabel?this.schema.selectOptions.customLabel:void 0}},created:function(){this.$root.$options.components.multiselect},methods:{updateSelected:function(e){this.value=e},addTag:function(e,t){var i=this.selectOptions.onNewTag;"function"==typeof i&&i(e,t,this.options,this.value)},onSearchChange:function(e,t){var i=this.selectOptions.onSearch;"function"==typeof i&&i(e,t,this.options)},onSelect:function(){},onRemove:function(){},onOpen:function(){},onClose:function(){}}});je.render=function(e,t,i,n,a,l){var o=A("multiselect");return I(),T(o,{id:e.selectOptions.id,options:e.options,value:e.value,multiple:e.selectOptions.multiple,"track-by":e.selectOptions.trackBy||null,label:e.selectOptions.label||null,searchable:e.selectOptions.searchable,"clear-on-select":e.selectOptions.clearOnSelect,"hide-selected":e.selectOptions.hideSelected,placeholder:e.schema.placeholder,"allow-empty":e.selectOptions.allowEmpty,"reset-after":e.selectOptions.resetAfter,"close-on-select":e.selectOptions.closeOnSelect,"custom-label":e.customLabel,taggable:e.selectOptions.taggable,"tag-placeholder":e.selectOptions.tagPlaceholder,max:e.schema.max||null,"options-limit":e.selectOptions.optionsLimit,"group-values":e.selectOptions.groupValues,"group-label":e.selectOptions.groupLabel,"block-keys":e.selectOptions.blockKeys,"internal-search":e.selectOptions.internalSearch,"select-label":e.selectOptions.selectLabel,"selected-label":e.selectOptions.selectedLabel,"deselect-label":e.selectOptions.deselectLabel,"show-labels":e.selectOptions.showLabels,limit:e.selectOptions.limit,"limit-text":e.selectOptions.limitText,loading:e.selectOptions.loading,disabled:e.disabled,"max-height":e.selectOptions.maxHeight,"show-pointer":e.selectOptions.showPointer,"option-height":e.selectOptions.optionHeight,onInput:e.updateSelected,onSelect:e.onSelect,onRemove:e.onRemove,onSearchChange:e.onSearchChange,onTag:e.addTag,onOpen:e.onOpen,onClose:e.onClose},{noResult:j((function(){return[M("span",null,N(e.selectOptions.noResult),1)]})),maxElements:j((function(){return[M("span",null,N(e.selectOptions.maxElements),1)]})),_:1},8,["id","options","value","multiple","track-by","label","searchable","clear-on-select","hide-selected","placeholder","allow-empty","reset-after","close-on-select","custom-label","taggable","tag-placeholder","max","options-limit","group-values","group-label","block-keys","internal-search","select-label","selected-label","deselect-label","show-labels","limit","limit-text","loading","disabled","max-height","show-pointer","option-height","onInput","onSelect","onRemove","onSearchChange","onTag","onOpen","onClose"])};var Pe={fieldCheckbox:ee,fieldChecklist:te,fieldInput:se,fieldLabel:ce,fieldRadios:ue,fieldSelect:me,fieldSubmit:he,fieldTextArea:fe,fieldUpload:pe,fieldCleave:ge,fieldDateTimePicker:Ce,fieldGoogleAddress:Se,fieldImage:Ve,fieldMasked:Fe,fieldNoUiSlider:Me,fieldPikaday:De,fieldRangeSlider:Ne,fieldSelectEx:Ue,fieldSpectrum:Le,fieldStaticMap:qe,fieldSwitch:Ee,fieldVueMultiSelect:je},Re={fieldCheckbox:ee,fieldChecklist:te,fieldInput:se,fieldLabel:ce,fieldRadios:ue,fieldSelect:me,fieldSubmit:he,fieldTextArea:fe,fieldUpload:pe},_e={methods:{getFieldRowClasses:function(e){var t,i=this.fieldErrors(e).length>0,a=(be(t={},d(this.options,"validationErrorClass","error"),i),be(t,d(this.options,"validationSuccessClass","valid"),!i),be(t,"disabled",this.fieldDisabled(e)),be(t,"readonly",this.fieldReadonly(e)),be(t,"featured",this.fieldFeatured(e)),be(t,"required",this.fieldRequired(e)),t);return s(e.styleClasses)?h(e.styleClasses,(function(e){return a[e]=!0})):o(e.styleClasses)&&(a[e.styleClasses]=!0),n(e.type)||(a["field-"+e.type]=!0),a},fieldErrors:function(e){return this.errors.filter((function(t){return t.field===e})).map((function(e){return e.error}))},fieldDisabled:function(t){return e(t.disabled)?t.disabled.call(this,this.model,t,this):!n(t.disabled)&&t.disabled},fieldReadonly:function(t){return e(t.readonly)?t.readonly.call(this,this.model,t,this):!n(t.readonly)&&t.readonly},fieldFeatured:function(t){return e(t.featured)?t.featured.call(this,this.model,t,this):!n(t.featured)&&t.featured},fieldRequired:function(t){return e(t.required)?t.required.call(this,this.model,t,this):!n(t.required)&&t.required}}},Ye=O({name:"FormGroup",mixins:[_e],props:{vfg:{type:Object,required:!0},model:{type:Object,default:function(){return{}}},options:{type:Object,default:function(){return{}}},field:{type:Object,required:!0},errors:{type:Array,default:function(){return[]}}},emits:["validated","model-updated"],methods:{fieldTypeHasLabel:function(e){if(n(e.label))return!1;switch("input"===e.type?e.inputType:e.type){case"button":case"submit":case"reset":return!1;default:return!0}},getFieldID:function(e){var t=d(this.options,"fieldIdPrefix","");return G(e,t)},getFieldType:function(e){var t="field-"+e.type;if(k(t)in X)return t},getButtonType:function(e){return d(e,"type","button")},onFieldValidated:function(e,t,i){this.$emit("validated",e,t,i)},buttonVisibility:function(e){return e.buttons&&e.buttons.length>0},buttonClickHandler:function(e,t,i){return e.onclick.call(this,this.model,t,i,this)},fieldHint:function(t){return e(t.hint)?t.hint.call(this,this.model,t,this):t.hint},fieldErrors:function(e){return this.errors.filter((function(t){return t.field===e})).map((function(e){return e.error}))},onModelUpdated:function(e,t){this.$emit("model-updated",e,t)},validate:function(e){return this.$refs.child.validate(e)},clearValidationErrors:function(){if(this.$refs.child)return this.$refs.child.clearValidationErrors()}}}),He={key:0,class:"help"},ze=M("i",{class:"icon"},null,-1),Be={class:"field-wrap"},Ge={key:0,class:"buttons"},Ze={key:2,class:"errors help-block"},Xe={key:1};Ye.render=function(e,t,i,n,a,l){return e.getFieldType(e.field)?(I(),T("div",{key:0,class:["form-group",e.getFieldRowClasses(e.field)]},[e.fieldTypeHasLabel(e.field)?(I(),T("label",{key:0,for:e.getFieldID(e.field),class:e.field.labelClasses},[M("span",{innerHTML:e.field.label},null,8,["innerHTML"]),e.field.help?(I(),T("span",He,[ze,M("div",{class:"helpText",innerHTML:e.field.help},null,8,["innerHTML"])])):U("v-if",!0)],10,["for"])):U("v-if",!0),M("div",Be,[(I(),T(P(e.getFieldType(e.field)),{ref:"child",vfg:e.vfg,disabled:e.fieldDisabled(e.field),model:e.model,schema:e.field,"form-options":e.options,onModelUpdated:e.onModelUpdated,onValidated:e.onFieldValidated},null,8,["vfg","disabled","model","schema","form-options","onModelUpdated","onValidated"])),e.buttonVisibility(e.field)?(I(),T("div",Ge,[(I(!0),T(V,null,F(e.field.buttons,(function(t,i){return I(),T("button",{key:i,class:t.classes,type:e.getButtonType(t),onClick:function(i){return e.buttonClickHandler(t,e.field,i)},textContent:N(t.label)},null,10,["type","onClick","textContent"])})),128))])):U("v-if",!0)]),e.field.hint?(I(),T("div",{key:1,class:"hint",innerHTML:e.fieldHint(e.field)},null,8,["innerHTML"])):U("v-if",!0),e.fieldErrors(e.field).length>0?(I(),T("div",Ze,[(I(!0),T(V,null,F(e.fieldErrors(e.field),(function(e,t){return I(),T("span",{key:t,innerHTML:e},null,8,["innerHTML"])})),128))])):U("v-if",!0)],2)):(I(),T("div",Xe,"Invalid field type ["+N(e.field.type)+"]",1))};var Ke=O({name:"VueFormGenerator",components:{formGroup:Ye},mixins:[_e],props:{schema:{type:Object,default:function(){return{}}},model:{type:Object,default:function(){return{}}},options:{type:Object,default:function(){return{validateAfterLoad:!1,validateAfterChanged:!1,fieldIdPrefix:"",validateAsync:!1,validationErrorClass:"error",validationSuccessClass:""}}},multiple:{type:Boolean,default:!1},isNewModel:{type:Boolean,default:!1},tag:{type:String,default:"fieldset",validator:function(e){return e.length>0}}},emits:["validated","model-updated"],data:function(){return{vfg:this,errors:[]}},computed:{fields:function(){var e=this,t=[];return this.schema&&this.schema.fields&&h(this.schema.fields,(function(i){e.multiple&&!0!==i.multi||t.push(i)})),t},groups:function(){var e=[];return this.schema&&this.schema.groups&&h(this.schema.groups.slice(0),(function(t){e.push(t)})),e}},watch:{model:function(e,t){var i=this;t!==e&&null!=e&&this.$nextTick((function(){!0===i.options.validateAfterLoad&&!0!==i.isNewModel?i.validate():i.clearValidationErrors()}))}},mounted:function(){var e=this;this.$nextTick((function(){e.model&&(!0===e.options.validateAfterLoad&&!0!==e.isNewModel?e.validate():e.clearValidationErrors())}))},methods:{fieldVisible:function(t){return e(t.visible)?t.visible.call(this,this.model,t,this):!!n(t.visible)||t.visible},onFieldValidated:function(e,t,i){var n=this;this.errors=this.errors.filter((function(e){return e.field!==i.schema})),!e&&t&&t.length>0&&h(t,(function(e){n.errors.push({field:i.schema,error:e})}));var a=0===this.errors.length;this.$emit("validated",a,this.errors,this)},onModelUpdated:function(e,t){this.$emit("model-updated",e,t)},validate:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null===i&&(i=d(this.options,"validateAsync",!1)),this.clearValidationErrors();var n=[],a=[];h(this.$children,(function(t){e(t.validate)&&(n.push(t.$refs.child),a.push(t.validate(!0)))}));var l=function(e){var a=[];h(e,(function(e,t){s(e)&&e.length>0&&h(e,(function(e){a.push({field:n[t].schema,error:e})}))})),t.errors=a;var l=0===a.length;return t.$emit("validated",l,a,t),i?a:l};return i?Promise.all(a).then(l):l(a)},clearValidationErrors:function(){this.errors.splice(0),h(this.$children,(function(e){e.clearValidationErrors()}))}}}),Je={key:0,class:"vue-form-generator"},Qe={key:0};Ke.render=function(e,t,i,n,a,l){var o=A("form-group");return null!=e.schema?(I(),T("div",Je,[e.schema.fields?(I(),T(P(e.tag),{key:0},{default:j((function(){return[(I(!0),T(V,null,F(e.fields,(function(t){return I(),T(V,null,[e.fieldVisible(t)?(I(),T(o,{key:t,vfg:e.vfg,field:t,errors:e.errors,model:e.model,options:e.options,onValidated:e.onFieldValidated,onModelUpdated:e.onModelUpdated},null,8,["vfg","field","errors","model","options","onValidated","onModelUpdated"])):U("v-if",!0)],64)})),256))]})),_:1})):U("v-if",!0),(I(!0),T(V,null,F(e.groups,(function(t){return I(),T(P(e.tag),{key:t,class:e.getFieldRowClasses(t)},{default:j((function(){return[t.legend?(I(),T("legend",Qe,N(t.legend),1)):U("v-if",!0),(I(!0),T(V,null,F(t.fields,(function(t){return I(),T(V,null,[e.fieldVisible(t)?(I(),T(o,{key:t,vfg:e.vfg,field:t,errors:e.errors,model:e.model,options:e.options,onValidated:e.onFieldValidated,onModelUpdated:e.onModelUpdated},null,8,["vfg","field","errors","model","options","onValidated","onModelUpdated"])):U("v-if",!0)],64)})),256))]})),_:2},1032,["class"])})),128))])):U("v-if",!0)};var We,et=Ke,tt=z,it=X,nt=function(e){Object.keys(e).forEach((function(t){We.component(t,e[t]),X[t]=e[t]}))},at={install:function(e,t){if((We=e).component("VueFormGenerator",et),We.config.globalProperties.VFG={component:Ke,validators:z},t&&(t.components&&nt(t.components),t.validators))for(var i in t.validators)({}).hasOwnProperty.call(t.validators,i)&&(z[i]=t.validators[i])}};export default at;export{W as abstractField,et as component,Re as coreComponents,xe as dateFieldHelper,ee as fieldCheckbox,te as fieldChecklist,ge as fieldCleave,it as fieldComponents,Ce as fieldDateTimePicker,Se as fieldGoogleAddress,Ve as fieldImage,se as fieldInput,ce as fieldLabel,Fe as fieldMasked,Me as fieldNoUiSlider,De as fieldPikaday,ue as fieldRadios,Ne as fieldRangeSlider,me as fieldSelect,Ue as fieldSelectEx,Le as fieldSpectrum,qe as fieldStaticMap,he as fieldSubmit,Ee as fieldSwitch,fe as fieldTextArea,pe as fieldUpload,je as fieldVueMultiSelect,Pe as fullComponents,nt as registerComponent,K as schema,tt as validators};//# sourceMappingURL=vfg-next.esm.js.map
